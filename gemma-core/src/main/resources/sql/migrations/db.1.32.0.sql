alter table ANALYSIS add column IS_PREFERRED TINYINT;
alter table ANALYSIS add column CELL_TYPE_INDICES LONGBLOB;
alter table ANALYSIS add column NUMBER_OF_CELL_TYPES INTEGER;
alter table ANALYSIS add column SINGLE_CELL_DIMENSION_FK BIGINT;
create table BIO_ASSAYS2SINGLE_CELL_DIMENSIONS (SINGLE_CELL_DIMENSIONS_FK BIGINT not null, BIO_ASSAYS_FK BIGINT not null, ORDERING integer not null, primary key (SINGLE_CELL_DIMENSIONS_FK, ORDERING)) ENGINE=InnoDB;
alter table BIO_MATERIAL add column SOURCE_BIO_MATERIAL_FK BIGINT;
alter table CHARACTERISTIC add column CELL_TYPE_ASSIGNMENT_FK BIGINT;
alter table CHARACTERISTIC add column CELL_TYPE_ASSIGNMENT_ORDERING integer;
alter table CHARACTERISTIC add column CELL_LEVEL_CHARACTERISTICS_FK BIGINT;
alter table CHARACTERISTIC add column CELL_LEVEL_CHARACTERISTICS_ORDERING integer;
alter table QUANTITATION_TYPE add column IS_SINGLE_CELL_PREFERRED TINYINT not null default false;
create table SINGLE_CELL_DIMENSION (ID BIGINT not null auto_increment, NAME VARCHAR(255), DESCRIPTION text, CELL_IDS LONGBLOB not null, NUMBER_OF_CELLS INTEGER not null, BIO_ASSAYS_OFFSET LONGBLOB not null, primary key (ID)) ENGINE=InnoDB;
create table SINGLE_CELL_EXPRESSION_DATA_VECTOR (ID BIGINT not null auto_increment, SINGLE_CELL_DIMENSION_FK BIGINT not null, DESIGN_ELEMENT_FK BIGINT not null, DATA LONGBLOB not null, DATA_INDICES LONGBLOB not null, QUANTITATION_TYPE_FK BIGINT not null, EXPRESSION_EXPERIMENT_FK BIGINT not null, primary key (ID)) ENGINE=InnoDB;
alter table ANALYSIS add index SINGLE_CELL_DIMENSION_FKC (SINGLE_CELL_DIMENSION_FK), add constraint SINGLE_CELL_DIMENSION_FKC foreign key (SINGLE_CELL_DIMENSION_FK) references SINGLE_CELL_DIMENSION (ID);
alter table BIO_ASSAYS2SINGLE_CELL_DIMENSIONS add index BIO_ASSAYS_SC_FKC (BIO_ASSAYS_FK), add constraint BIO_ASSAYS_SC_FKC foreign key (BIO_ASSAYS_FK) references BIO_ASSAY (ID);
alter table BIO_ASSAYS2SINGLE_CELL_DIMENSIONS add index SINGLE_CELL_DIMENSIONS_FKC (SINGLE_CELL_DIMENSIONS_FK), add constraint SINGLE_CELL_DIMENSIONS_FKC foreign key (SINGLE_CELL_DIMENSIONS_FK) references SINGLE_CELL_DIMENSION (ID);
alter table BIO_MATERIAL add index BIO_MATERIAL_SOURCE_BIO_MATERIAL_FKC (SOURCE_BIO_MATERIAL_FK), add constraint BIO_MATERIAL_SOURCE_BIO_MATERIAL_FKC foreign key (SOURCE_BIO_MATERIAL_FK) references BIO_MATERIAL (ID);
alter table CHARACTERISTIC add index CHARACTERISTIC_CELL_TYPE_ASSIGNMENT_FKC (CELL_TYPE_ASSIGNMENT_FK), add constraint CHARACTERISTIC_CELL_TYPE_ASSIGNMENT_FKC foreign key (CELL_TYPE_ASSIGNMENT_FK) references ANALYSIS (ID);
alter table CHARACTERISTIC add index CHARACTERISTIC_CELL_LEVEL_CHARACTERISTICS_FKC (CELL_LEVEL_CHARACTERISTICS_FK), add constraint CHARACTERISTIC_CELL_LEVEL_CHARACTERISTICS_FKC foreign key (CELL_LEVEL_CHARACTERISTICS_FK) references CELL_LEVEL_CHARACTERISTICS (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index SINGLE_CELL_EXPRESSION_DATA_VECTOR_SINGLE_CELL_DIMENSION_FKC (SINGLE_CELL_DIMENSION_FK), add constraint SINGLE_CELL_EXPRESSION_DATA_VECTOR_SINGLE_CELL_DIMENSION_FKC foreign key (SINGLE_CELL_DIMENSION_FK) references SINGLE_CELL_DIMENSION (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index SINGLE_CELL_EXPRESSION_DATA_VECTOR_DESIGN_ELEMENT_FKC (DESIGN_ELEMENT_FK), add constraint SINGLE_CELL_EXPRESSION_DATA_VECTOR_DESIGN_ELEMENT_FKC foreign key (DESIGN_ELEMENT_FK) references COMPOSITE_SEQUENCE (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index SINGLE_CELL_EXPRESSION_DATA_VECTOR_QUANTITATION_TYPE_FKC (QUANTITATION_TYPE_FK), add constraint SINGLE_CELL_EXPRESSION_DATA_VECTOR_QUANTITATION_TYPE_FKC foreign key (QUANTITATION_TYPE_FK) references QUANTITATION_TYPE (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index SINGLE_CELL_DATA_VECTOR_EXPRESSION_EXPERIMENT_FKC (EXPRESSION_EXPERIMENT_FK), add constraint SINGLE_CELL_DATA_VECTOR_EXPRESSION_EXPERIMENT_FKC foreign key (EXPRESSION_EXPERIMENT_FK) references INVESTIGATION (ID);
create table CELL_LEVEL_CHARACTERISTICS (ID BIGINT not null auto_increment, INDICES LONGBLOB not null, SINGLE_CELL_DIMENSION_FK BIGINT, NUMBER_OF_CHARACTERISTICS INTEGER not null, primary key (ID)) ENGINE=InnoDB;
alter table CELL_LEVEL_CHARACTERISTICS add index CELL_LEVEL_CHARACTERISTICS_SINGLE_CELL_DIMENSION_FKC (SINGLE_CELL_DIMENSION_FK), add constraint CELL_LEVEL_CHARACTERISTICS_SINGLE_CELL_DIMENSION_FKC foreign key (SINGLE_CELL_DIMENSION_FK) references SINGLE_CELL_DIMENSION (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add column ORIGINAL_DESIGN_ELEMENT VARCHAR(255);
alter table BIO_ASSAY add column NUMBER_OF_CELLS INTEGER;
alter table BIO_ASSAY add column NUMBER_OF_DESIGN_ELEMENTS INTEGER;
alter table BIO_ASSAY add column NUMBER_OF_CELLS_BY_DESIGN_ELEMENTS INTEGER;
alter table ANALYSIS add column NUMBER_OF_ASSIGNED_CELLS INTEGER;
alter table CELL_LEVEL_CHARACTERISTICS add column NUMBER_OF_ASSIGNED_CELLS INTEGER;
