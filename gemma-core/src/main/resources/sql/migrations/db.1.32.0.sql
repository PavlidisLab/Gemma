alter table ANALYSIS add column IS_PREFERRED TINYINT;
alter table ANALYSIS add column CELL_TYPE_INDICES LONGBLOB;
alter table ANALYSIS add column NUMBER_OF_CELL_TYPES INTEGER;
alter table ANALYSIS add column SINGLE_CELL_DIMENSION_FK BIGINT;
create table BIO_ASSAYS2SINGLE_CELL_DIMENSIONS (SINGLE_CELL_DIMENSIONS_FK BIGINT not null, BIO_ASSAYS_FK BIGINT not null, ORDERING integer not null, primary key (SINGLE_CELL_DIMENSIONS_FK, ORDERING)) ENGINE=InnoDB;
alter table CHARACTERISTIC add column CELL_TYPE_ASSIGNMENT_FK BIGINT;
alter table CHARACTERISTIC add column CELL_TYPE_ASSIGNMENT_ORDERING integer;
create table SINGLE_CELL_DIMENSION (ID BIGINT not null auto_increment, CELL_IDS LONGBLOB not null, NUMBER_OF_CELLS INTEGER not null, BIO_ASSAYS_OFFSET LONGBLOB not null, primary key (ID)) ENGINE=InnoDB;
create table SINGLE_CELL_EXPRESSION_DATA_VECTOR (ID BIGINT not null auto_increment, SINGLE_CELL_DIMENSION_FK BIGINT not null, DESIGN_ELEMENT_FK BIGINT not null, DATA LONGBLOB not null, DATA_INDICES LONGBLOB not null, QUANTITATION_TYPE_FK BIGINT not null, EXPRESSION_EXPERIMENT_FK BIGINT not null, primary key (ID)) ENGINE=InnoDB;
alter table ANALYSIS add index SINGLE_CELL_DIMENSION_FKC (SINGLE_CELL_DIMENSION_FK), add constraint SINGLE_CELL_DIMENSION_FKC foreign key (SINGLE_CELL_DIMENSION_FK) references SINGLE_CELL_DIMENSION (ID);
alter table BIO_ASSAYS2SINGLE_CELL_DIMENSIONS add index FK_i7mqxca7awf4pak7nvr0pii1l (BIO_ASSAYS_FK), add constraint FK_i7mqxca7awf4pak7nvr0pii1l foreign key (BIO_ASSAYS_FK) references BIO_ASSAY (ID);
alter table BIO_ASSAYS2SINGLE_CELL_DIMENSIONS add index SINGLE_CELL_DIMENSIONS_FKC (SINGLE_CELL_DIMENSIONS_FK), add constraint SINGLE_CELL_DIMENSIONS_FKC foreign key (SINGLE_CELL_DIMENSIONS_FK) references SINGLE_CELL_DIMENSION (ID);
alter table BIO_ASSAY_DIMENSIONS2BIO_ASSAYS add index FK_pehyypfc8ikdg3kn9y9x6t89t (BIO_ASSAYS_FK), add constraint FK_pehyypfc8ikdg3kn9y9x6t89t foreign key (BIO_ASSAYS_FK) references BIO_ASSAY (ID);
alter table CHARACTERISTIC add index CHARACTERISTIC_CELL_TYPE_ASSIGNMENT_FKC (CELL_TYPE_ASSIGNMENT_FK), add constraint CHARACTERISTIC_CELL_TYPE_ASSIGNMENT_FKC foreign key (CELL_TYPE_ASSIGNMENT_FK) references ANALYSIS (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index FK_l7lwk8b50xudbtig84tdbwms0 (SINGLE_CELL_DIMENSION_FK), add constraint FK_l7lwk8b50xudbtig84tdbwms0 foreign key (SINGLE_CELL_DIMENSION_FK) references SINGLE_CELL_DIMENSION (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index FK_pdh71hif80chig3osqcdt3v6 (DESIGN_ELEMENT_FK), add constraint FK_pdh71hif80chig3osqcdt3v6 foreign key (DESIGN_ELEMENT_FK) references COMPOSITE_SEQUENCE (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index FK_kr1iweqougjynbehlg2w9g8s4 (QUANTITATION_TYPE_FK), add constraint FK_kr1iweqougjynbehlg2w9g8s4 foreign key (QUANTITATION_TYPE_FK) references QUANTITATION_TYPE (ID);
alter table SINGLE_CELL_EXPRESSION_DATA_VECTOR add index SINGLE_CELL_DATA_VECTOR_EXPRESSION_EXPERIMENT_FKC (EXPRESSION_EXPERIMENT_FK), add constraint SINGLE_CELL_DATA_VECTOR_EXPRESSION_EXPERIMENT_FKC foreign key (EXPRESSION_EXPERIMENT_FK) references INVESTIGATION (ID);
