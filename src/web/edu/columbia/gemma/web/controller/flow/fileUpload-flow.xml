<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE webflow PUBLIC "-//SPRING//DTD WEBFLOW//EN"
    "http://www.springframework.org/dtd/spring-webflow.dtd">

<webflow id="fileupload" start-state="selectFile">

    <view-state id="selectFile" view="fileForm">
        <transition on="submit" to="uploadFile"/>
    </view-state>

    <action-state id="uploadFile">
        <action bean="uploadFileAction" method="bindAndValidate"/>
        <transition on="success" to="displayConfirmation"/>
        <transition on="error" to="selectFile"/>
    </action-state>
    
    <view-state id="displayConfirmation" view="confirmation">
        <transition on="back" to="selectFile"/>
    </view-state>
    
</webflow>
